var DodgeballModule=function(){"use strict";var e={onRuntimeInitialized:function(){console.log("Dodgeball WebAssembly module initialized")}},t=[{id:1,type:0,x:400,y:300,radius:15},{id:2,type:1,x:200,y:100,radius:12},{id:3,type:1,x:600,y:100,radius:12},{id:4,type:1,x:300,y:500,radius:12}],i=0,a=100;return e._initGame=function(){return console.log("Game initialized"),i=0,a=100,t=[{id:1,type:0,x:400,y:300,radius:15},{id:2,type:1,x:200,y:100,radius:12},{id:3,type:1,x:600,y:100,radius:12},{id:4,type:1,x:300,y:500,radius:12}],0},e._updateGame=function(e){if(1===i){for(var r=1;r<t.length;r++)1===t[r].type&&(t[r].x+=5*(Math.random()-.5),t[r].y+=5*(Math.random()-.5),t[r].x=Math.max(t[r].radius,Math.min(800-t[r].radius,t[r].x)),t[r].y=Math.max(t[r].radius,Math.min(600-t[r].radius,t[r].y)));var n=t[0];for(r=1;r<t.length;r++){var u=t[r],d=n.x-u.x,o=n.y-u.y,s=Math.sqrt(d*d+o*o);if(s<n.radius+u.radius){a-=.5;var y=d/s*5,l=o/s*5;n.x+=y,n.y+=l,a<=0&&(i=2,a=0)}}n.x=Math.max(n.radius,Math.min(800-n.radius,n.x)),n.y=Math.max(n.radius,Math.min(600-n.radius,n.y))}return 0},e._handleInput=function(e,r){if(0===i&&4===e&&r)i=1;else if(2===i&&4===e&&r)i=0,a=100;else if(1===i&&t.length>0){var n=t[0];switch(e){case 0:r&&(n.y-=5);break;case 1:r&&(n.y+=5);break;case 2:r&&(n.x-=5);break;case 3:r&&(n.x+=5)}}return 0},e._getGameState=function(){return i},e._getEntityCount=function(){return t.length},e._getEntityData=function(e,t){return 0},e._getPlayerHealth=function(){return a},e._malloc=function(e){return 1024},e._free=function(e){},e.memory={buffer:new ArrayBuffer(1048576)},e.getEntities=function(){return t},e}();"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=DodgeballModule);